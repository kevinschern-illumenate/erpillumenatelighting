[
	{
		"doctype": "Print Format",
		"name": "ilL Work Order Traveler",
		"doc_type": "Work Order",
		"module": "ilLumenate Lighting",
		"html": "{% set fixture = frappe.get_doc('ilL-Configured-Fixture', doc.ill_configured_fixture) if doc.ill_configured_fixture else None %}\n<style>\n  .traveler { font-family: Arial, sans-serif; font-size: 11px; }\n  .traveler h1 { font-size: 16px; margin-bottom: 5px; border-bottom: 2px solid #333; padding-bottom: 5px; }\n  .traveler h2 { font-size: 13px; margin: 15px 0 8px 0; background: #f0f0f0; padding: 5px; }\n  .traveler table { width: 100%; border-collapse: collapse; margin: 8px 0; }\n  .traveler th, .traveler td { border: 1px solid #ccc; padding: 5px; text-align: left; }\n  .traveler th { background: #f5f5f5; font-weight: bold; width: 35%; }\n  .traveler .section { margin-bottom: 15px; }\n  .traveler .qc-box { border: 2px solid #333; padding: 10px; margin-top: 20px; }\n  .traveler .qc-row { display: flex; justify-content: space-between; margin: 10px 0; }\n  .traveler .checkbox-area { width: 20px; height: 20px; border: 1px solid #333; display: inline-block; }\n  .traveler .signature-line { border-bottom: 1px solid #333; width: 150px; display: inline-block; margin-left: 10px; }\n</style>\n<div class=\"traveler\">\n  <h1>WORK ORDER TRAVELER</h1>\n  <div class=\"section\">\n    <table>\n      <tr><th>Work Order #</th><td>{{ doc.name }}</td></tr>\n      <tr><th>Sales Order #</th><td>{{ doc.sales_order or '-' }}</td></tr>\n      <tr><th>Item</th><td>{{ doc.production_item }}</td></tr>\n      <tr><th>Quantity</th><td>{{ doc.qty }}</td></tr>\n      <tr><th>Date</th><td>{{ frappe.format_date(frappe.utils.nowdate()) }}</td></tr>\n    </table>\n  </div>\n\n  {% if fixture %}\n  <h2>Configuration Summary</h2>\n  <div class=\"section\">\n    <table>\n      <tr><th>Template</th><td>{{ fixture.fixture_template or '-' }}</td></tr>\n      <tr><th>Finish</th><td>{{ fixture.finish or '-' }}</td></tr>\n      <tr><th>Lens</th><td>{{ fixture.lens_appearance or '-' }}</td></tr>\n      <tr><th>Mounting</th><td>{{ fixture.mounting_method or '-' }}</td></tr>\n      <tr><th>Endcaps</th><td>Start: {{ fixture.endcap_style_start or '-' }} | End: {{ fixture.endcap_style_end or '-' }} | Color: {{ fixture.endcap_color or '-' }}</td></tr>\n      <tr><th>Power Feed</th><td>{{ fixture.power_feed_type or '-' }}</td></tr>\n      <tr><th>Environment</th><td>{{ fixture.environment_rating or '-' }}</td></tr>\n    </table>\n  </div>\n\n  <h2>Length Details</h2>\n  <div class=\"section\">\n    <table>\n      <tr><th>Requested Length</th><td>{{ fixture.requested_overall_length_mm or 0 }} mm</td></tr>\n      <tr><th>Manufacturable Length</th><td>{{ fixture.manufacturable_overall_length_mm or 0 }} mm</td></tr>\n      <tr><th>Difference</th><td>{{ (fixture.requested_overall_length_mm or 0) - (fixture.manufacturable_overall_length_mm or 0) }} mm</td></tr>\n      <tr><th>Tape Cut Length</th><td>{{ fixture.tape_cut_length_mm or 0 }} mm</td></tr>\n      <tr><th>Assembly Mode</th><td>{{ fixture.assembly_mode or 'ASSEMBLED' }}</td></tr>\n    </table>\n  </div>\n\n  <h2>Cut/Assembly Instructions</h2>\n  <div class=\"section\">\n    <h3 style=\"font-size: 11px; margin: 5px 0;\">Profile & Lens Segments</h3>\n    <table>\n      <tr><th>#</th><th>Profile Cut (mm)</th><th>Lens Cut (mm)</th><th>Notes</th></tr>\n      {% for seg in fixture.segments %}\n      <tr>\n        <td>{{ seg.segment_index }}</td>\n        <td>{{ seg.profile_cut_len_mm }}</td>\n        <td>{{ seg.lens_cut_len_mm }}</td>\n        <td>{{ seg.notes or '' }}</td>\n      </tr>\n      {% endfor %}\n    </table>\n\n    <h3 style=\"font-size: 11px; margin: 10px 0 5px 0;\">Run Plan (Tape)</h3>\n    <table>\n      <tr><th>#</th><th>Run Length (mm)</th><th>Watts</th><th>Leader</th></tr>\n      {% for run in fixture.runs %}\n      <tr>\n        <td>{{ run.run_index }}</td>\n        <td>{{ run.run_len_mm }}</td>\n        <td>{{ run.run_watts }}</td>\n        <td>{{ run.leader_len_mm }} mm</td>\n      </tr>\n      {% endfor %}\n    </table>\n\n    <table style=\"margin-top: 10px;\">\n      <tr><th>Total Runs</th><td>{{ fixture.runs_count or 0 }}</td></tr>\n      <tr><th>Total Watts</th><td>{{ fixture.total_watts or 0 }} W</td></tr>\n      <tr><th>Leader Qty</th><td>{{ fixture.runs_count or 0 }}</td></tr>\n    </table>\n  </div>\n\n  {% if fixture.drivers and fixture.drivers|length > 0 %}\n  <h2>Driver Allocation</h2>\n  <div class=\"section\">\n    <table>\n      <tr><th>Driver Item</th><th>Qty</th><th>Outputs Used</th><th>Mapping Notes</th></tr>\n      {% for driver in fixture.drivers %}\n      <tr>\n        <td>{{ driver.driver_item }}</td>\n        <td>{{ driver.driver_qty }}</td>\n        <td>{{ driver.outputs_used }}</td>\n        <td>{{ driver.mapping_notes or '' }}</td>\n      </tr>\n      {% endfor %}\n    </table>\n  </div>\n  {% endif %}\n\n  <h2>Components</h2>\n  <div class=\"section\">\n    <table>\n      <tr><th>Profile Item</th><td>{{ fixture.profile_item or '-' }}</td></tr>\n      <tr><th>Lens Item</th><td>{{ fixture.lens_item or '-' }}</td></tr>\n      <tr><th>Endcap Start</th><td>{{ fixture.endcap_item_start or '-' }}</td></tr>\n      <tr><th>Endcap End</th><td>{{ fixture.endcap_item_end or '-' }}</td></tr>\n      <tr><th>Mounting Item</th><td>{{ fixture.mounting_item or '-' }}</td></tr>\n      <tr><th>Leader Item</th><td>{{ fixture.leader_item or '-' }}</td></tr>\n    </table>\n    <p style=\"margin-top: 5px; font-style: italic;\">Note: Include extra pair of endcaps in kit.</p>\n  </div>\n  {% else %}\n  <div class=\"section\">\n    <p><em>No configured fixture linked. Please link a configured fixture to see build details.</em></p>\n  </div>\n  {% endif %}\n\n  <div class=\"qc-box\">\n    <h2 style=\"margin-top: 0;\">QC Checklist</h2>\n    <div class=\"qc-row\">\n      <span><span class=\"checkbox-area\"></span> Visual inspection complete</span>\n      <span><span class=\"checkbox-area\"></span> Dimensions verified</span>\n    </div>\n    <div class=\"qc-row\">\n      <span><span class=\"checkbox-area\"></span> Electrical test complete</span>\n      <span><span class=\"checkbox-area\"></span> All components present</span>\n    </div>\n    <div style=\"margin-top: 15px;\">\n      <strong>Functional Test:</strong>\n      <span class=\"checkbox-area\" style=\"margin-left: 20px;\"></span> PASS\n      <span class=\"checkbox-area\" style=\"margin-left: 20px;\"></span> FAIL\n    </div>\n    <div style=\"margin-top: 10px;\">\n      <strong>Serial Number:</strong> <span class=\"signature-line\" style=\"width: 200px;\"></span>\n    </div>\n    <div style=\"margin-top: 15px;\">\n      <strong>Technician:</strong> <span class=\"signature-line\"></span>\n      <strong style=\"margin-left: 30px;\">Date:</strong> <span class=\"signature-line\" style=\"width: 100px;\"></span>\n    </div>\n  </div>\n</div>",
		"standard": "No",
		"custom_format": 1,
		"print_format_type": "Jinja"
	},
	{
		"doctype": "Print Format",
		"name": "ilL Fixture Schedule",
		"doc_type": "ilL-Project-Fixture-Schedule",
		"module": "ilLumenate Lighting",
		"html": "{% set project = frappe.get_doc('ilL-Project', doc.ill_project) if doc.ill_project else None %}\n{% set customer = frappe.get_doc('Customer', doc.customer) if doc.customer else None %}\n<style>\n  .schedule { font-family: Arial, sans-serif; font-size: 11px; }\n  .schedule h1 { font-size: 16px; margin-bottom: 5px; }\n  .schedule h2 { font-size: 13px; color: #555; margin-top: 0; }\n  .schedule .header-info { margin-bottom: 15px; }\n  .schedule .header-info p { margin: 2px 0; }\n  .schedule table { width: 100%; border-collapse: collapse; margin-top: 10px; }\n  .schedule th, .schedule td { border: 1px solid #ccc; padding: 5px; text-align: left; font-size: 10px; }\n  .schedule th { background-color: #f5f5f5; font-weight: bold; }\n  .schedule .other-mfr { background-color: #fffbe6; }\n</style>\n<div class=\"schedule\">\n  <div class=\"header-info\">\n    <h1>{{ doc.schedule_name }}</h1>\n    {% if project %}<h2>Project: {{ project.project_name }}</h2>{% endif %}\n    {% if customer %}<p><strong>Customer:</strong> {{ customer.customer_name or customer.name }}</p>{% endif %}\n    <p><strong>Date:</strong> {{ frappe.format_date(frappe.utils.nowdate()) }}</p>\n    <p><strong>Status:</strong> {{ doc.status }}</p>\n  </div>\n\n  <table>\n    <thead>\n      <tr>\n        <th>Line ID</th>\n        <th>Type</th>\n        <th>Qty</th>\n        <th>Location</th>\n        <th>Description</th>\n        <th>Req. (mm)</th>\n        <th>Mfg. (mm)</th>\n        <th>Notes</th>\n      </tr>\n    </thead>\n    <tbody>\n      {% for line in doc.lines %}\n      {% set fixture = frappe.get_doc('ilL-Configured-Fixture', line.configured_fixture) if line.configured_fixture else None %}\n      <tr class=\"{{ 'other-mfr' if line.manufacturer_type == 'OTHER' else '' }}\">\n        <td>{{ line.line_id or line.idx }}</td>\n        <td>{{ line.manufacturer_type }}</td>\n        <td>{{ line.qty }}</td>\n        <td>{{ line.location or '-' }}</td>\n        <td>\n          {% if line.manufacturer_type == 'ILLUMENATE' and fixture %}\n            {{ fixture.fixture_template }}<br>\n            <small>{{ fixture.finish }} | {{ fixture.lens_appearance }} | {{ fixture.mounting_method }}</small>\n          {% elif line.manufacturer_type == 'OTHER' %}\n            {{ line.manufacturer_name or '' }} {{ line.model_number or '' }}\n          {% else %}\n            <em>Not configured</em>\n          {% endif %}\n        </td>\n        <td>{{ fixture.requested_overall_length_mm if fixture else '-' }}</td>\n        <td>{{ fixture.manufacturable_overall_length_mm if fixture else (line.manufacturable_length_mm or '-') }}</td>\n        <td>{{ line.notes or '-' }}</td>\n      </tr>\n      {% endfor %}\n    </tbody>\n  </table>\n\n  {% if doc.notes %}\n  <div style=\"margin-top: 15px;\">\n    <strong>Schedule Notes:</strong>\n    <p>{{ doc.notes }}</p>\n  </div>\n  {% endif %}\n</div>",
		"standard": "No",
		"custom_format": 1,
		"print_format_type": "Jinja"
	}
]
